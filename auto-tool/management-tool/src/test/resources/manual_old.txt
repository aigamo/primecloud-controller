PrimeCloud Controller ユーザ管理スクリプトマニュアル
2010/11/11 初版作成
2010/12/24 ver1.1リリース (AmazonVPC対応)


PrimeCloud Controller(以下PCC)のユーザ管理用スクリプトです。

■事前準備

□社内開発環境用サーバにSSHで接続します。

	社内開発環境サーバ情報
	IPアドレス 133.166.75.13

□ユーザ管理スクリプトのあるディレクトリに移動します。

	ユーザ管理スクリプトは /opt/adc/tool/management-tool 以下にあります。

	# cd /opt/adc/tool/management-tool/

□各種情報
	PCCのURL
	http://133.166.75.13/auto-web/

	ZabbixのURL
	http://133.166.75.13/zabbix/

	ディレクトリ構成
	user-management.sh : ユーザ管理用スクリプト
	doc/manual.txt : ユーザ管理スクリプトマニュアル
	lib : ユーザ管理用プログラムが保存されているディレクトリ
	logs : ログ情報が出力されるディレクトリ
	key_pair : ユーザ認証用の秘密鍵と公開鍵が作成されるディレクトリ

■ユーザ管理手順

□ユーザ作成
	PCCにログインできるユーザを作成します。

	# ./user-management.sh -C -u <ユーザ名> -p <パスワード>

	ユーザの作成に成功すると、PCC、Zabbixでログイン可能なユーザが作られます。
	ユーザ一覧表示コマンドで作成したユーザを確認してください。

	作成したユーザが使用できるプラットフォームは東USiZE、西USiZE、AmazonVPCです。
	作成されたユーザの初期状態は「有効」状態です。

□ユーザ一覧表示
	作成されたユーザの一覧を表示します。

	# ./user-management.sh -l

	無効化されたユーザにはパスワードの先頭に「無効」と表示されています。

□ユーザパスワード変更
	作成されたユーザのパスワードを変更します。

	# ./user-management.sh -U -u <ユーザ名> -p <パスワード>

	無効化されたユーザのパスワードは変更できません。
	有効にしてから、変更してください。

□ユーザ無効化
	PCC、Zabbixにログイン可能なユーザをログイン不可にします。

	# ./user-management.sh -D -u <ユーザ名>

	無効化されたユーザは、次回からPCC、Zabbixにログインできなくなります。
	ただし、すでにPCC、Zabbixにログインしているユーザはそのまま利用可能です。

□ユーザ有効化
	PCC、Zabbixにログイン不可のユーザをログイン可能にします。

	# ./user-management.sh -E -u <ユーザ名>

	有効化されたユーザは、PCC、Zabbixにログインできるようになります。

□ヘルプ表示
	ユーザ管理スクリプトで使用可能なコマンドの一覧が表示されます。

	# ./user-management.sh -h

